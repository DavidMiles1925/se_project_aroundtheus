!function(){"use strict";var e={179:function(e,t,n){e.exports=n.p+"af88ac612048d25add96.jpg"},96:function(e,t,n){e.exports=n.p+"d28f5833a1015c8727bc.jpg"},151:function(e,t,n){e.exports=n.p+"f779ecf28d08e40369eb.jpg"},624:function(e,t,n){e.exports=n.p+"e99a50e4b1ebfbb48d0f.jpg"},565:function(e,t,n){e.exports=n.p+"adf2fa8ffced558bec81.jpg"},972:function(e,t,n){e.exports=n.p+"2d8f700de7f86cbef757.jpg"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.m=e,n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.b=document.baseURI||self.location.href,function(){var e=class{constructor(e,t){this._settings=e,this._formElement=t}_toggleButtonState(){this._hasInvalidInput(this._inputList)?(this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._settings.inactiveButtonClass)):(this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._settings.inactiveButtonClass))}_showInputError(e,t){const n=this._formElement.querySelector(`.${e.id}-error`);e.classList.add(this._settings.inputErrorClass),n.textContent=t,n.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._fieldsetElement.querySelector(`.${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.classList.remove(this._settings.errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_handleInputChange(e){this._checkInputValidity(e),this._toggleButtonState()}_setEventListeners(){this._inputList=[...this._fieldsetElement.querySelectorAll(this._settings.inputSelector)],this._buttonElement=this._fieldsetElement.querySelector(this._settings.submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>this._handleInputChange(e)))}))}enableValidation(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._fieldsetElement=this._formElement.querySelector(this._settings.formFieldsetSelector),this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}};function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={formSelector:".form",formFieldsetSelector:".form__fieldset",inputSelector:".form__input",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"},i=[{place:"Boulder, CO",link:new URL(n(179),n.b)},{place:"Doheny Beach, CA",link:new URL(n(96),n.b)},{place:"Eureka Springs, AK",link:new URL(n(151),n.b)},{place:"Fort Lauderdale, FL",link:new URL(n(624),n.b)},{place:"Melvern Lake, KS",link:new URL(n(565),n.b)},{place:"Royal Gorge, CO",link:new URL(n(972),n.b)}];const r=document.querySelector(".body");var o=class{constructor(e){this._popupElement=e,this._closeButton=this._popupElement.querySelector(".modal__close-button"),this._handleEscCloseBound=this._handleEscClose.bind(this),this._handleRemoteClickCloseBound=this._handleRemoteClickClose.bind(this),this._closePopupBound=this.close.bind(this)}open(){r.classList.remove("preload"),this._popupElement.classList.add("modal_open"),this._setEventListeners()}close(){this._popupElement.classList.remove("modal_open"),this._removeEventListeners()}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleRemoteClickClose(e){e.target===e.currentTarget&&this.close()}_setEventListeners(){document.addEventListener("keydown",this._handleEscCloseBound),this._popupElement.addEventListener("mousedown",this._handleRemoteClickCloseBound),this._closeButton.addEventListener("click",this._closePopupBound)}_removeEventListeners(){document.removeEventListener("keydown",this._handleEscCloseBound),this._popupElement.removeEventListener("mousedown",this._handleRemoteClickCloseBound),this._closeButton.removeEventListener("click",this._closePopupBound)}};var l=class extends o{constructor(e,t){var n,s,i;super(e),n=this,i=e=>{e.preventDefault();const t=this._getInputValues();this._onSubmit(t)},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(s="_handleSubmit"))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,this._onSubmit=t,this._formSelector=this._popupElement.querySelector(".form")}_getInputValues(){const e=[...this._formSelector.querySelectorAll(".form__input")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}_setEventListeners(){super._setEventListeners(),this._formSelector.addEventListener("submit",this._handleSubmit)}_removeEventListeners(){super._removeEventListeners(),this._formSelector.removeEventListener("submit",this._handleSubmit)}close(){super.close(),this._popupElement.querySelector(".form").reset()}};const a=document.querySelector(".modal_profile"),u=document.querySelector(".modal_add-card"),c=document.querySelector(".modal_display-image"),_=a.querySelector(".form"),d=u.querySelector(".form"),h=document.querySelector(".profile"),m=h.querySelector(".profile__edit-button"),p=h.querySelector(".profile__add-button"),f=a.querySelector(".form__input_type_name"),v=a.querySelector(".form__input_type_about"),b=new class{constructor(e,t){this._renderer=e,this._cardsDisplayed=document.querySelector(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._cardsDisplayed.prepend(t)}}((function(e){return new class{constructor(e,n,s){t(this,"_handleLikeButton",(()=>{this._heartButton.classList.toggle("card_liked")})),t(this,"_handleDeleteButton",(()=>{this._element.remove(),this._element=null})),this._name=e.place,this._link=e.link,this._alt=e.place,this._cardSelector=n,this._handleImageClick=s}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getCardElement(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._cardText=this._element.querySelector(".card__title"),this._cardText.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._alt,this._heartButton=this._element.querySelector(".card__like-button"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._imageButton=this._element.querySelector(".card__image"),this._assignCardButtons(),this._element}_assignCardButtons(){this._heartButton.addEventListener("click",(()=>this._handleLikeButton())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteButton())),this._imageButton.addEventListener("click",(()=>this._handleImageClick(this._name,this._link)))}}(e,"#card",B).getCardElement()}),".cards"),E=new class{constructor(e,t){this._name=document.querySelector(e),this._about=document.querySelector(t)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e,t){this._name.textContent=e,this._about.textContent=t}}(".profile__title",".profile__description"),g=new class extends o{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image"),this._modalImageDescription=this._popupElement.querySelector(".modal__image-desctription")}open(e,t){super.open(),this._image.alt=e,this._image.src=t,this._modalImageDescription.textContent=e}}(c),y=new l(a,(function(e){E.setUserInfo(e.name,e.about),y.close()})),S=new l(u,(function(e){b.addItem(e),S.close()})),L=new e(s,_),C=new e(s,d);function B(e,t){g.open(e,t)}L.enableValidation(),C.enableValidation(),b.renderItems(i),m.addEventListener("click",(function(){!function(){const e=E.getUserInfo();f.value=e.name,v.value=e.about}(),y.open(),L.resetValidation()})),p.addEventListener("click",(function(){S.open(),C.resetValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1RzQixNQUFNVCxPQUNOMUQsS0FBS2tJLE9BQU9iLElBQU0xQyxFQUNsQjNFLEtBQUtrSSxPQUFPZCxJQUFNdkUsRUFDbEI3QyxLQUFLbUksdUJBQXVCL0csWUFBY3VELENBQzVDLEdKc0JvQ00sR0FFaENtRCxFQUFXLElBQUlDLEVBQWN0RCxHQTBCbkMsU0FBNkJnQixHQUMzQjZCLEVBQVdJLFlBQVlqQyxFQUFLcEIsS0FBTW9CLEVBQUs4QixPQUN2Q08sRUFBUzNFLE9BQ1gsSUE1Qk02RSxFQUFVLElBQUlELEVBQWNyRCxHQThCbEMsU0FBNkJlLEdBQzNCTixFQUFZUSxRQUFRRixHQUNwQnVDLEVBQVE3RSxPQUNWLElBL0JNOEUsRUFBb0IsSUFBSUMsRUFBYy9GLEVBQWdCeUMsR0FDdER1RCxFQUFtQixJQUFJRCxFQUFjL0YsRUFBZ0IwQyxHQWdDM0QsU0FBU3dDLEVBQW1CaEQsRUFBTTlCLEdBQ2hDb0YsRUFBV3ZFLEtBQUtpQixFQUFNOUIsRUFDeEIsQ0FoQ0EwRixFQUFrQm5HLG1CQUNsQnFHLEVBQWlCckcsbUJBMENqQnFELEVBQVlLLFlBQVluRCxHQUh0QjBDLEVBQVdsRCxpQkFBaUIsU0EvQjlCLFlBTkEsV0FDRSxNQUFNdUcsRUFBV2QsRUFBV0csY0FDNUJ4QyxFQUFhWCxNQUFROEQsRUFBUy9ELEtBQzlCYSxFQUFjWixNQUFROEQsRUFBU2IsS0FDakMsQ0FHRWMsR0FDQVAsRUFBUzFFLE9BQ1Q2RSxFQUFrQi9GLGlCQUNwQixJQTRCRThDLEVBQVVuRCxpQkFBaUIsU0ExQjdCLFdBQ0VtRyxFQUFRNUUsT0FDUitFLEVBQWlCakcsaUJBQ25CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb25zdGFudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZmllbGRzZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlSW5wdXRDaGFuZ2UoaW5wdXRFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2ZpZWxkc2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9maWVsZHNldEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT5cclxuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dENoYW5nZShpbnB1dEVsZW1lbnQpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9maWVsZHNldEVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zZXR0aW5ncy5mb3JtRmllbGRzZXRTZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImNvbnN0IGRhdmlkSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL2RhdmlkLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5cclxuY29uc3QgYm91bGRlckltYWdlID0gbmV3IFVSTChcIi4uL2ltYWdlcy9Cb3VsZGVyLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBkb2hlbnlJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvRG9oZW55LmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBldXJla2FJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvRXVyZWthLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xyXG5jb25zdCBsYXVkZXJkYWxlSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL0xhdWRlcmRhbGUuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IG1lbHZlcm5JbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvTWVsdmVybi5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcclxuY29uc3Qgcm95YWxJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvUm95YWwuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XHJcblxyXG5jb25zdCBjYXJkc0Rpc3BsYXllZCA9IFwiLmNhcmRzXCI7XHJcblxyXG5jb25zdCBjb25maWdWYWxpZGF0ZSA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBmb3JtRmllbGRzZXRTZWxlY3RvcjogXCIuZm9ybV9fZmllbGRzZXRcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGNvbmZpZ0Nsb3NlID0ge1xyXG4gIGNsb3NlQnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19jbG9zZS1idXR0b25cIixcclxuICBtb2RhbE92ZXJsYXlTZWxlY3RvcjogXCIubW9kYWxcIixcclxuICBtb2RhbENvbnRhaW5lckxpc3Q6IFwiLm1vZGFsX19jb250YWluZXJcIixcclxufTtcclxuXHJcbmNvbnN0IGNvbmZpZ1VzZXIgPSB7XHJcbiAgdXNlck1vZGFsOiBcIi5tb2RhbF9wcm9maWxlXCIsXHJcbiAgY3VycmVudE5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgY3VycmVudEFib3V0OiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIG5ld05hbWU6IFwiLmZvcm1fX2lucHV0X3R5cGVfbmFtZVwiLFxyXG4gIG5ld0Fib3V0OiBcIi5mb3JtX19pbnB1dF90eXBlX2Fib3V0XCIsXHJcbn07XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgcGxhY2U6IFwiQm91bGRlciwgQ09cIixcclxuICAgIGxpbms6IGJvdWxkZXJJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlOiBcIkRvaGVueSBCZWFjaCwgQ0FcIixcclxuICAgIGxpbms6IGRvaGVueUltYWdlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcGxhY2U6IFwiRXVyZWthIFNwcmluZ3MsIEFLXCIsXHJcbiAgICBsaW5rOiBldXJla2FJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlOiBcIkZvcnQgTGF1ZGVyZGFsZSwgRkxcIixcclxuICAgIGxpbms6IGxhdWRlcmRhbGVJbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlOiBcIk1lbHZlcm4gTGFrZSwgS1NcIixcclxuICAgIGxpbms6IG1lbHZlcm5JbWFnZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHBsYWNlOiBcIlJveWFsIEdvcmdlLCBDT1wiLFxyXG4gICAgbGluazogcm95YWxJbWFnZSxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IHtcclxuICBjYXJkc0Rpc3BsYXllZCxcclxuICBjb25maWdWYWxpZGF0ZSxcclxuICBjb25maWdDbG9zZSxcclxuICBjb25maWdVc2VyLFxyXG4gIGluaXRpYWxDYXJkcyxcclxufTtcclxuIiwiY29uc3QgYm9keUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcblxyXG5mdW5jdGlvbiByZW1vdmVQcmVsb2FkKCkge1xyXG4gIGJvZHlFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwcmVsb2FkXCIpO1xyXG59XHJcblxyXG5leHBvcnQgeyByZW1vdmVQcmVsb2FkIH07XHJcbiIsImltcG9ydCB7IHJlbW92ZVByZWxvYWQgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBwb3B1cFNlbGVjdG9yO1xyXG5cclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZUJvdW5kID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZVJlbW90ZUNsaWNrQ2xvc2VCb3VuZCA9IHRoaXMuX2hhbmRsZVJlbW90ZUNsaWNrQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2Nsb3NlUG9wdXBCb3VuZCA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICByZW1vdmVQcmVsb2FkKCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5cIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5cIik7XHJcbiAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVJlbW90ZUNsaWNrQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2VCb3VuZCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZWRvd25cIixcclxuICAgICAgdGhpcy5faGFuZGxlUmVtb3RlQ2xpY2tDbG9zZUJvdW5kXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2Nsb3NlUG9wdXBCb3VuZCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZUJvdW5kKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdGVDbGlja0Nsb3NlQm91bmRcclxuICAgICk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fY2xvc2VQb3B1cEJvdW5kKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxjdG9yLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsY3Rvcik7XHJcbiAgICB0aGlzLl9vblN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgdGhpcy5fb25TdWJtaXQoaW5wdXRWYWx1ZXMpO1xyXG4gIH07XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1GaWVsZElucHV0cyA9IFtcclxuICAgICAgLi4udGhpcy5fZm9ybVNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIiksXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgZm9ybUZpZWxkSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHtcclxuICBjYXJkc0Rpc3BsYXllZCxcclxuICBjb25maWdWYWxpZGF0ZSxcclxuICBjb25maWdVc2VyLFxyXG4gIGluaXRpYWxDYXJkcyxcclxufSBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5cclxuY29uc3QgbW9kYWxQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9wcm9maWxlXCIpO1xyXG5jb25zdCBtb2RhbEFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX2FkZC1jYXJkXCIpO1xyXG5jb25zdCBtb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9kaXNwbGF5LWltYWdlXCIpO1xyXG5cclxuY29uc3QgZm9ybVByb2ZpbGVFbGVtZW50ID0gbW9kYWxQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgZm9ybUFkZENhcmRFbGVtZW50ID0gbW9kYWxBZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlXCIpO1xyXG5cclxuY29uc3QgZWRpdEJ1dHRvbiA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZEJ1dHRvbiA9IHByb2ZpbGVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGZvcm1OYW1lVGV4dCA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuY29uc3QgZm9ybUFib3V0VGV4dCA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfYWJvdXRcIik7XHJcblxyXG5jb25zdCBjYXJkU2VsZWN0b3IgPSBcIiNjYXJkXCI7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKGNyZWF0ZUNhcmQsIGNhcmRzRGlzcGxheWVkKTtcclxuXHJcbmNvbnN0IHVzZXJPYmplY3QgPSBuZXcgVXNlckluZm8oXHJcbiAgY29uZmlnVXNlci5jdXJyZW50TmFtZSxcclxuICBjb25maWdVc2VyLmN1cnJlbnRBYm91dFxyXG4pO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShtb2RhbEltYWdlKTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0obW9kYWxQcm9maWxlLCBoYW5kbGVQcm9maWxlU3VibWl0KTtcclxuY29uc3QgYWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKG1vZGFsQWRkQ2FyZCwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ1ZhbGlkYXRlLCBmb3JtUHJvZmlsZUVsZW1lbnQpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnVmFsaWRhdGUsIGZvcm1BZGRDYXJkRWxlbWVudCk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xyXG4gIGNvbnN0IHVzZXJJbmZvID0gdXNlck9iamVjdC5nZXRVc2VySW5mbygpO1xyXG4gIGZvcm1OYW1lVGV4dC52YWx1ZSA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgZm9ybUFib3V0VGV4dC52YWx1ZSA9IHVzZXJJbmZvLmFib3V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5RWRpdCgpIHtcclxuICBmaWxsUHJvZmlsZUZvcm0oKTtcclxuICBlZGl0Rm9ybS5vcGVuKCk7XHJcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3BsYXlBZGQoKSB7XHJcbiAgYWRkRm9ybS5vcGVuKCk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZVN1Ym1pdChkYXRhKSB7XHJcbiAgdXNlck9iamVjdC5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQpO1xyXG4gIGVkaXRGb3JtLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZGF0YSkge1xyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0oZGF0YSk7XHJcbiAgYWRkRm9ybS5jbG9zZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UobmFtZSwgbGluaykge1xyXG4gIGltYWdlUG9wdXAub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkKSB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGNhcmQsIGNhcmRTZWxlY3RvciwgaGFuZGxlRGlzcGxheUltYWdlKTtcclxuICByZXR1cm4gbmV3Q2FyZC5nZXRDYXJkRWxlbWVudCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRQYWdlTGlzdGVuZXJzKCkge1xyXG4gIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRpc3BsYXlFZGl0KTtcclxuICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRpc3BsYXlBZGQpO1xyXG59XHJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGluaXRpYWxDYXJkcyk7XHJcbnNldFBhZ2VMaXN0ZW5lcnMoKTtcclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNsYXNzU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jYXJkc0Rpc3BsYXllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xhc3NTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhkYXRhKSB7XHJcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIGNvbnN0IGNhcmQgPSB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIHRoaXMuX2NhcmRzRGlzcGxheWVkLnByZXBlbmQoY2FyZCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xyXG4iLCJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLnBsYWNlO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2FsdCA9IGRhdGEucGxhY2U7XHJcblxyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkRWxlbWVudCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRleHQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblxyXG4gICAgdGhpcy5fY2FyZFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fYWx0O1xyXG5cclxuICAgIHRoaXMuX2hlYXJ0QnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9pbWFnZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuXHJcbiAgICB0aGlzLl9hc3NpZ25DYXJkQnV0dG9ucygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX2Fzc2lnbkNhcmRCdXR0b25zKCkge1xyXG4gICAgdGhpcy5faGVhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VCdXR0b24oKSk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW1hZ2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2hlYXJ0QnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX2xpa2VkXCIpO1xyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVEZWxldGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIiwiY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGFib3V0KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7IG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9tb2RhbEltYWdlRGVzY3JpcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2ltYWdlLWRlc2N0cmlwdGlvblwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX21vZGFsSW1hZ2VEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRMaXN0IiwiX2J1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJlcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwiX2ZpZWxkc2V0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwiX2hhbmRsZUlucHV0Q2hhbmdlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZm9ybUZpZWxkc2V0U2VsZWN0b3IiLCJyZXNldFZhbGlkYXRpb24iLCJjb25maWdWYWxpZGF0ZSIsImZvcm1TZWxlY3RvciIsImluaXRpYWxDYXJkcyIsInBsYWNlIiwibGluayIsIlVSTCIsImJvZHlFbGVtZW50IiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJfaGFuZGxlRXNjQ2xvc2VCb3VuZCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlUmVtb3RlQ2xpY2tDbG9zZUJvdW5kIiwiX2hhbmRsZVJlbW90ZUNsaWNrQ2xvc2UiLCJfY2xvc2VQb3B1cEJvdW5kIiwiY2xvc2UiLCJvcGVuIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJzIiwia2V5IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cCIsInBvcHVwU2VsY3RvciIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiZXZlbnQiLCJpbnB1dFZhbHVlcyIsIl9nZXRJbnB1dFZhbHVlcyIsIl9vblN1Ym1pdCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtRmllbGRJbnB1dHMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsIl9oYW5kbGVTdWJtaXQiLCJyZXNldCIsIm1vZGFsUHJvZmlsZSIsIm1vZGFsQWRkQ2FyZCIsIm1vZGFsSW1hZ2UiLCJmb3JtUHJvZmlsZUVsZW1lbnQiLCJmb3JtQWRkQ2FyZEVsZW1lbnQiLCJwcm9maWxlRWxlbWVudCIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJmb3JtTmFtZVRleHQiLCJmb3JtQWJvdXRUZXh0IiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJlciIsImNsYXNzU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY2FyZHNEaXNwbGF5ZWQiLCJyZW5kZXJJdGVtcyIsImRhdGEiLCJpdGVtIiwiYWRkSXRlbSIsImNhcmQiLCJwcmVwZW5kIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIl9oZWFydEJ1dHRvbiIsInRvZ2dsZSIsIl9lbGVtZW50IiwiX25hbWUiLCJfbGluayIsIl9hbHQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0Q2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlIiwiX2NhcmRUZXh0Iiwic3JjIiwiYWx0IiwiX2RlbGV0ZUJ1dHRvbiIsIl9pbWFnZUJ1dHRvbiIsIl9hc3NpZ25DYXJkQnV0dG9ucyIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZURpc3BsYXlJbWFnZSIsInVzZXJPYmplY3QiLCJhYm91dCIsIl9hYm91dCIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJpbWFnZVBvcHVwIiwiX2ltYWdlIiwiX21vZGFsSW1hZ2VEZXNjcmlwdGlvbiIsImVkaXRGb3JtIiwiUG9wdXBXaXRoRm9ybSIsImFkZEZvcm0iLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwidXNlckluZm8iLCJmaWxsUHJvZmlsZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9